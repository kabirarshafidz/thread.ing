<%- include('header.ejs') %>

    <section id="threads" class="container" style="height: 100%">
      <% if (yourThreads.length === 0) { %>
      <div
        class="d-flex justify-content-center align-items-center flex-column"
        style="height: 75%"
      >
        <div class="mb-5">
          <h1 style="font-size: 60px; font-weight: 700">
            Create your first <span>thREAD</span>!
          </h1>
        </div>
        <form action="/submit" method="GET">
          <button type="submit" class="btn btn-primary p-2 d-flex">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
              fill="#e8eaed"
            >
              <path
                d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"
              />
            </svg>
            <p class="m-0 me-2">Add thread</p>
          </button>
        </form>
      </div>
      <% } else {%>
      <div class="row row-cols-3 justify-content-around align-items-center">
        <% yourThreads.forEach(addedThread => { %> <% if (addedThread.id % 2 ===
        0) { %>
        <div class="box blue-box col-3">
          <p><%= addedThread.thread %></p>
          <div class="d-flex flex-row-reverse justify-content-between">
            <form
              action="/delete/<%= addedThread.id %>?_method=DELETE"
              method="POST"
            >
              <button type="submit" class="btn btn-danger">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="24px"
                  viewBox="0 -960 960 960"
                  width="24px"
                  fill="#e8eaed"
                >
                  <path
                    d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"
                  />
                </svg>
              </button>
            </form>
            <form action="/edit/<%= addedThread.id %>" method="GET">
              <button type="submit" class="btn btn-primary">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="24px"
                  viewBox="0 -960 960 960"
                  width="24px"
                  fill="#e8eaed"
                >
                  <path
                    d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"
                  />
                </svg>
              </button>
            </form>
          </div>
        </div>
        <% } else {%>
        <div class="box pink-box col-3">
          <p><%= addedThread.thread %></p>
          <div class="d-flex flex-row-reverse justify-content-between">
            <form
              action="/delete/<%= addedThread.id %>?_method=DELETE"
              method="POST"
            >
              <button type="submit" class="btn btn-danger">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="24px"
                  viewBox="0 -960 960 960"
                  width="24px"
                  fill="#e8eaed"
                >
                  <path
                    d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"
                  />
                </svg>
              </button>
            </form>
            <form action="/edit/<%= addedThread.id %>" method="GET">
              <button type="submit" class="btn btn-secondary">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="24px"
                  viewBox="0 -960 960 960"
                  width="24px"
                  fill="#e8eaed"
                >
                  <path
                    d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"
                  />
                </svg>
              </button>
            </form>
          </div>
        </div>
        <% } %> <% }) %> <% } %>
      </div>
    </section>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
